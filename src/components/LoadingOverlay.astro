---
const { show = true } = Astro.props;
---

{show && (
  <div id="loading"
       class="fixed inset-0 z-50 flex items-center justify-center
              bg-black/30 backdrop-blur-sm">
    <!-- Spinner lebah / violet glow -->
    <div class="relative">
      <div class="w-16 h-16 border-4 border-violet-400/40 border-t-transparent
                  rounded-full animate-spin"></div>
      <span class="absolute inset-0 flex items-center justify-center
                   text-violet-400 font-bold text-lg">
        âœ¦
      </span>
    </div>
    <p class="ml-4 text-violet-200 font-semibold animate-pulse">
      Loading...
    </p>
  </div>
)}

<script>
  window.addEventListener("load", () => {
    const overlay = document.getElementById("loading");
    if (overlay) {
      overlay.style.opacity = "0";
      overlay.style.transition = "opacity 0.5s ease";
      setTimeout(() => overlay.remove(), 500);
    }
  });
</script>
